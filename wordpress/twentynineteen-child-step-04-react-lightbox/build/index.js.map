{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./src/index.js","webpack:///external {\"this\":[\"wp\",\"element\"]}"],"names":["postContainers","document","querySelectorAll","posts","forEach","post","title","querySelector","link","image","excerpt","push","id","innerText","url","href","imageSrc","src","imageAlt","alt","Posts","useState","currentPost","updateCurrentPost","openModal","event","preventDefault","addEventListener","listenForClose","closeModal","removeEventListener","target","key","postsMarkup","map","bind","wp","element","render"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","import { Fragment, useState } from \"@wordpress/element\";\n\n// Get the post containers\nconst postContainers = document.querySelectorAll(\n  `#react-template .entry-content`\n);\n// Setup an empty array for posts\nconst posts = [];\n\n// Create a post in memory for each post on the page\npostContainers.forEach(post => {\n  const title = post.querySelector(`h3`);\n  const link = post.querySelector(`h3 a`);\n  const image = post.querySelector(`img`);\n  const excerpt = post.querySelector(`.excerpt`);\n  posts.push({\n    id: post.id,\n    title: title.innerText,\n    url: link.href,\n    imageSrc: image.src,\n    imageAlt: image.alt,\n    excerpt: excerpt.innerText\n  });\n});\n\nconst Posts = () => {\n  const [currentPost, updateCurrentPost] = useState({\n    imageSrc: ``\n  });\n  function openModal(event) {\n    event.preventDefault();\n    updateCurrentPost(this);\n    document.addEventListener(`keyup`, listenForClose);\n  }\n  function closeModal() {\n    updateCurrentPost({\n      imageSrc: ``\n    });\n    document.removeEventListener(`keyup`, listenForClose);\n  }\n  function listenForClose(event) {\n    if (event.target.id === \"react-template-overlay\") {\n      closeModal();\n    }\n    if (event.key === \"Escape\") {\n      closeModal();\n    }\n  }\n  const postsMarkup = posts.map(post => (\n    <div id={post.id} key={post.id} className=\"entry-content\">\n      <a href={post.url} onClick={openModal.bind(post)}>\n        <img\n          src={post.imageSrc}\n          alt={post.imageAlt}\n          className=\"wp-post-image\"\n        />\n      </a>\n      <h3>\n        <a href={post.url}>{post.title}</a>\n      </h3>\n      <div className=\"excerpt\">\n        <p>{post.excerpt}</p>\n      </div>\n    </div>\n  ));\n\n  return (\n    <Fragment>\n      {postsMarkup}\n      {currentPost.imageSrc !== `` && (\n        <div id=\"react-template-overlay\" onClick={listenForClose}>\n          <div className=\"modal\">\n            <figure>\n              <img src={currentPost.imageSrc} alt={currentPost.imageAlt} />\n            </figure>\n            <h3>{currentPost.title}</h3>\n            <div className=\"excerpt\">\n              <p>{currentPost.excerpt}</p>\n            </div>\n            <p>\n              <a href={currentPost.url} className=\"button\">\n                Read More\n              </a>\n            </p>\n          </div>\n        </div>\n      )}\n    </Fragment>\n  );\n};\n\nwp.element.render(<Posts />, document.querySelector(`#react-template .posts`));\n","(function() { module.exports = this[\"wp\"][\"element\"]; }());"],"sourceRoot":""}